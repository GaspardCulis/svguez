---
import Layout from "../layouts/Layout.astro";
---

<Layout title="SVGuez TileMaker">
  Salut
  <div id="svg-container" class=""></div>
  <div id="tile-container"></div>
</Layout>
<script>
  import { createTile } from "../lib/tilemaker";
  import { loadSVG } from "../lib/utils";

  const svg_container = document.getElementById(
    "svg-container"
  ) as HTMLDivElement;

  const tile_container = document.getElementById(
    "tile-container"
  ) as HTMLDivElement;

  const svg = await loadSVG("elecgeo/ELECGEO.PCT.opti.svg");
  svg_container.appendChild(svg);

  for (let y = 0; y < 5; y++) {
    for (let x = 0; x < 5; x++) {
      let croppped = createTile(svg, 0, x, y);
      croppped.classList.add("tile");

      tile_container.appendChild(croppped);
    }
  }
</script>
<style>
  #svg-container.hidden {
    position: absolute;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    visibility: hidden;
    z-index: -100;
  }
</style>
<style is:global>
  .tile {
    width: 256px;
    height: 256px;
  }
</style>
