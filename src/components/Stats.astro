---

---

<div class="stats stats-vertical shadow">
  <div class="stat">
    <div class="stat-title">Current zoom level</div>
    <div id="stats-zoom" class="stat-value">0</div>
    <div id="stats-zoom-progress" class="stat-desc">0/?</div>
  </div>

  <div class="stat">
    <div class="stat-title">Progress</div>
    <div id="stats-progress-text" class="stat-value">0%</div>
    <progress
      id="stats-progress"
      class="progress progress-secondary w-56"
      value="0"
      max="100"></progress>
  </div>

  <div class="stat">
    <div class="stat-title">Tile count</div>
    <div id="stats-tile-count" class="stat-value">0</div>
    <div id="stats-tile-count-progress" class="stat-desc">0/?</div>
  </div>
</div>
<script>
  import { statsStore, settingsStore } from "../lib/store";
  import { humanCount } from "../lib/utils";

  const statsCurrentZoom = document.getElementById("stats-zoom");
  statsStore.currentZoom.subscribe((currentZoom) => {
    statsCurrentZoom!.innerText = `${currentZoom}`;
  });

  const statsCurrentZoomProgress = document.getElementById(
    "stats-zoom-progress"
  );
  settingsStore.maxZoomLevel.subscribe((maxZoomLevel) => {
    statsCurrentZoomProgress!.innerText = ` / ${maxZoomLevel}`;
  });

  const statsProgressText = document.getElementById("stats-progress-text");
  const statsProgress = document.getElementById(
    "stats-progress"
  ) as HTMLProgressElement;

  statsStore.progress.subscribe((progress) => {
    statsProgressText!.innerText = `${progress.toFixed(1)}%`;
    statsProgress.value = progress;
  });

  const statsTileCount = document.getElementById("stats-tile-count");
  statsStore.tileCount.subscribe((tileCount) => {
    statsTileCount!.innerText = `${humanCount(tileCount)}`;
  });

  const statsTileCountProgress = document.getElementById(
    "stats-tile-count-progress"
  );
  statsStore.finalTilesCount.subscribe((finalTilesCount) => {
    statsTileCountProgress!.innerText = ` / ${humanCount(finalTilesCount)}`;
  });
</script>
